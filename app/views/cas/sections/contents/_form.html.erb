<%= simple_form_for ([@section, @content]) do |f| %>
  <% if Cas::SectionConfig.new(@section).form_has_field?(:category) %>
    <p>
      <%= f.input :category_id,
        collection: @categories.map { |c| [c.name, c.id] },
        input_html: { class: 'js-select2' }
      %>
    </p>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:title) %>
    <p>
      <%= f.input :title, as: :string, label: 'TÃ­tulo:' %>
    </p>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:summary) %>
    <p>
      <%= f.input :summary, as: :text, label: 'Resumo' %>
    </p>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:local) %>
    <p>
      <%= f.input :local, as: :string, label: 'Local:' %>
    </p>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:date) %>
    <p>
      <%= f.input :date, as: :datetime, label: 'Data:',
        start_year: Date.today.year,
        order: [:day, :month, :year] %>
    </p>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:tags) %>
    <% autocomplete = ActsAsTaggableOn::Tag.all.map { |t| {value: t.name, text: t.name} } %>
    <%= f.input :tag_list,
      as: :string,
      required: false,
      input_html: {
        value: f.object.tag_list.join(", "),
        class: "js-tags",
        data: { autocomplete: autocomplete.to_json }
      }
    %>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:url) %>
    <p>
      <%= f.input :url, label: 'URL:' %>
    </p>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:text) %>
    <p>
      <%= f.input :text, as: :text, label: 'Texto', input_html: { class: 'editor' } %>
    </p>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:embedded) %>
    <p>
      <%= f.input :embedded, label: 'URL:' %>
    </p>
  <% end %>

  <% if Cas::SectionConfig.new(@section).form_has_field?(:images) %>
    <%= render 'form_images', f: f %>
  <% end %>

  <div class="actions">
    <%= f.submit "Salvar", id: 'submit' %>
  </div>
<% end %>
